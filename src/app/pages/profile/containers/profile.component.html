<div class="container" style="margin-top:5%; overflow-x: hidden;">
  <div class="container" id="headerProfile" style="background-image: url('assets/port.jpg'); background-size: cover; background-position: center center; background-repeat: no-repeat;">
    <div class="profilePicture row justify-content-center">
      <img src="assets/user.png" alt="profile picture" class="img-circle" style="width: 15%; margin: 1.5%;">
    </div>
  </div>
  <div class="row" style="background-color: white; text-align: center; margin-top:2%;">
    <p class="h2">{{user.name}} {{user.lastName}}</p>
  </div>
  <div class="row">
    <div class="container" id="user_data">
      <form [formGroup]="dataForm" (ngSubmit)="onSubmit()" >
        <div class="row">
          <div class="col-md-2">
            <p class="h3">Personal data</p>
          </div>
          <div class="col-md-1">
            <button mat-button (click)="show_form()" id="editButton">
              <mat-icon>edit</mat-icon>
              Edit
            </button>
          </div>
          <div class="col-md-1">

            <button mat-button (click)="save_form()" style="display:none;" id="saveButton">
              <mat-icon>save</mat-icon>
              Save
            </button>
          </div>
          <hr>
        </div>
        <div class="row">
          <div class="col-md-6">
            <p class="h6">Name</p>
            <mat-form-field appearance="outline" style="margin-right: 20px;">
              <mat-label>First Name</mat-label>
              <input matInput formControlName="name" type="text" placeholder="First name" required>
              <mat-error *ngIf="dataForm.get('name')?.errors?.['minLength']">
                First name must contain at least 3 characters.
              </mat-error>
              <mat-error *ngIf="dataForm.get('name')?.errors?.['maxLength']">
                First name must contain at most 20 characters.
              </mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline" style="width: 280px;">
              <mat-label>Last name</mat-label>
              <input matInput formControlName="lastName" type="text" placeholder="Last name" required>
              <mat-error *ngIf="dataForm.get('lastName')?.errors?.['minLength']">
                Last name must contain at least 3 characters.
              </mat-error>
              <mat-error *ngIf="dataForm.get('lastName')?.errors?.['maxLength']">
                Last name must contain at most 20 characters.
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-md-6">
            <p class="h6">Email</p>
            <mat-form-field appearance="outline" style="width: 400px;">
              <mat-label>Email address</mat-label>
              <input matInput formControlName="email" type="email" placeholder="Email address" required>
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <p class="h6">Birthday</p>
            <mat-form-field appearance="outline">
              <mat-label>Birthday</mat-label>
              <input matInput formControlName="birthday" type="date" placeholder="Birthday" required>
            </mat-form-field>
          </div>
          <div class="col-md-6">
            <p class="h6">Phone number</p>
            <mat-form-field>
              <mat-label>Phone</mat-label>
              <input matInput formControlName="phone" type="text" placeholder="Phone" required>
              <mat-error *ngIf="dataForm.get('phone')?.errors?.['pattern']">
                Phone must contain 10 characters.
              </mat-error>
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <div class="col-md-3">
            <change-password-card></change-password-card>
          </div>

        </div>
        <div class="row" style="margin-top: 2.5%;">
          <p class="h3">Address</p>
          <hr>
        </div>
        <div class="row" style="margin-top: 2%;">
          <div class="col-md-4">
            <p class="h6">Address</p>
            <mat-form-field appearance="outline">
              <mat-label>Email address</mat-label>
              <input matInput formControlName="address" type="text" placeholder="Address" required>
              <mat-error *ngIf="dataForm.get('address')?.errors?.['minLength']">
                Address must have at least 3 characters
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-md-4">
            <p class="h6">City</p>
            <mat-form-field appearance="outline">
              <mat-label>City</mat-label>
              <input matInput formControlName="city" type="text" placeholder="City" required>
              <mat-error *ngIf="dataForm.get('city')?.errors?.['minLength']">
                City must have at least 3 characters.
              </mat-error>
              <mat-error *ngIf="dataForm.get('city')?.errors?.['maxLength']">
                City must have at least 20 characters.
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-md-4">
            <p class="h6">ZIP Code</p>
            <mat-form-field appearance="outline">
              <mat-label>ZIP Code</mat-label>
              <input matInput formControlName="zip" type="text" placeholder="ZIP Code" required>
              <mat-error *ngIf="dataForm.get('zip')?.errors?.['pattern']">
                ZIP Code must contain 5 numbers.
              </mat-error>
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <div class="col-md-4">
            <p class="h6">Country</p>
            <mat-form-field appearance="outline">
              <mat-label>Country</mat-label>
              <input matInput formControlName="country" type="text" placeholder="Country" required>
              <mat-error *ngIf="dataForm.get('country')?.errors?.['minLength']">
                Country must have at least 3 characters.
              </mat-error>
              <mat-error *ngIf="dataForm.get('country')?.errors?.['maxLength']">
                Country must have at least 20 characters.
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-md-4">
            <p class="h6">State</p>
            <mat-form-field appearance="outline">
              <mat-label>State</mat-label>
              <input matInput formControlName="state" type="text" placeholder="State" required>
              <mat-error *ngIf="dataForm.get('state')?.errors?.['minLength']">
                State must have at least 3 characters.
              </mat-error>
              <mat-error *ngIf="dataForm.get('state')?.errors?.['maxLength']">
                State must have at least 20 characters.
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-md-4">
            <p class="h6">Preferred port</p>
            <p class="h5">PortName</p>
          </div>
        </div>

      </form>
    </div>


  </div>

  <div class="row">
    <div class="row" style="margin-top: 2.5%;">
      <p class="h3">Bookings</p>
      <hr>
    </div>
    <div class="row flex-row flex-nowrap" style="overflow: scroll; overflow-y: hidden">
      <div class="col-3" *ngFor="let booking of bookings">
        <app-rental-history-card [booking]="booking"></app-rental-history-card>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="row" style="margin-top: 2.5%;">
      <p class="h3">Refunds</p>
      <hr>
    </div>
    <div class="row flex-row flex-nowrap" style="overflow: scroll; overflow-y: hidden">
      <h1>Holiwi</h1>
    </div>
  </div>
  <div class="row">
    <div class="col-md" style="margin-top:20px; padding-bottom: 50px;">
      <button class="logout-button" (click)="logout()">Log out</button>
    </div>
  </div>
</div>
