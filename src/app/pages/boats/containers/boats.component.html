<loading [loading]="loading"></loading>
<div class="container" style="margin-top:8%;" *ngIf="!loading">
    <div class="row justify-content-center">
      <div class="card bg-light" style="max-width: 50rem; margin: 20px auto;">
        <div class="card-body">
          <h1>{{'boats.formTitle' | translate}}</h1>
          <form [formGroup]="form" class="justify-content-center form">
              <mat-form-field appearance="outline">
                <mat-label>{{'boats.chooseDate' | translate}}</mat-label>
                <input matInput formControlName="initialDate" [matDatepicker]="initialDate">
                <mat-hint>MM/DD/YYYY</mat-hint>
                <mat-datepicker-toggle matSuffix [for]="initialDate"></mat-datepicker-toggle>
                <mat-datepicker #initialDate></mat-datepicker>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>{{'boats.chooseDate' | translate}}</mat-label>
                <input matInput formControlName="endDate" [matDatepicker]="endDate">
                <mat-hint>MM/DD/YYYY</mat-hint>
                <mat-datepicker-toggle matSuffix [for]="endDate"></mat-datepicker-toggle>
                <mat-datepicker #endDate></mat-datepicker>
              </mat-form-field>
              <button class="btn btn-proyecto" mat-raised-button color="primary" (click)="searchAct()">
                <span class="mat-body-2">{{'boats.search' | translate}}</span>
              </button>
          </form>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-12 col-sm-12 col-md-4 col-lg-3" *ngFor="let boat of boats; let i = index">
        <div class="card mb-3">
          <img class="card-img-top img-card" src="{{images[i] | sinfoto}}" alt="Card image cap">
          <div class="card-body">
            <a class="card-title" [routerLink]="['/boat']" [queryParams]="{id: boat.id , initialDate: this.initDate, endDate: this.finalDate}"><h2><strong>{{boat.name}}</strong></h2></a>
            <p class="card-text">{{'boats.description' | translate}}: {{boat.description}}</p>
            <p class="card-text">{{'boats.capacity' | translate}}: {{boat.capacity}} {{'boats.people' | translate}}</p>
            <p class="card-text">{{'boats.length' | translate}}: {{boat.sleeve}} {{'boats.meters' | translate}}</p>
            <p class="card-text">{{'boats.captain' | translate}}: {{boat.requiredBoatTitles ? boat.requiredBoatTitles[0].titleId : 'NO'}}</p>
          </div>
        </div>
      </div>
    </div>
</div>
