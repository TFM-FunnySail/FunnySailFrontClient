<div class="container" style="margin-top:10%;">
  <div class="row justify-content-center">
    <div class="card" style="width: 36rem;">
      <p class="h4 text-center" style="margin-top:5%;">Register form</p>
      <div class="card-body">
        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" >

          <ng-container *ngIf="pageF === 1; else second">
            <div class="row">
              <mat-form-field appearance="outline">
                <mat-label>Email address</mat-label>
                <input matInput formControlName="email" type="email" placeholder="Email address" required>
                <mat-error *ngIf="registerForm.get('email')?.errors?.['required']">
                  Email is required
                  </mat-error>
              </mat-form-field>
            </div>
            <div class="row">
              <mat-form-field appearance="outline">
                <mat-label>Password</mat-label>
                <input matInput formControlName="password" type="password" placeholder="Password" required>
                <mat-error *ngIf="registerForm.get('password')?.errors?.['required']">
                  Password is required
                  </mat-error>
                <mat-error *ngIf="registerForm.get('password')?.errors?.['pattern']">
                  The password must be at least 8 characters long, contain at least one uppercase letter, one lowercase letter, one number and one character of this collection _@./#&+-.
                  </mat-error>
              </mat-form-field>
            </div>
            <div class="row">
              <mat-form-field appearance="outline">
                <mat-label>Confirm password</mat-label>
                <input matInput formControlName="confirmPassword" type="password" placeholder="Confirm password" required>
                <mat-error *ngIf="registerForm.get('confirmPassword')?.errors?.['required']">
                  Confirm password is required
                  </mat-error>
                <mat-error *ngIf="registerForm.get('password')?.value != registerForm.get('confirmPassword')?.value">
                  Password mismatch
                  </mat-error>
              </mat-form-field>
            </div>
          </ng-container>

          <ng-template #second>
            <ng-container *ngIf="pageF === 2; else third">
              <div class="row">
                <div class="col-md-6">
                  <mat-form-field appearance="outline">
                    <mat-label>First Name</mat-label>
                    <input matInput formControlName="firstName" type="text" placeholder="First name" required>
                    <mat-error *ngIf="registerForm.get('firstName')?.errors?.['required']">
                      First name is required
                    </mat-error>
                    <mat-error *ngIf="registerForm.get('firstName')?.errors?.['minLength']">
                      First name must contain at least 3 characters.
                    </mat-error>
                    <mat-error *ngIf="registerForm.get('firstName')?.errors?.['maxLength']">
                      First name must contain at most 20 characters.
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field appearance="outline">
                    <mat-label>Last name</mat-label>
                    <input matInput formControlName="lastName" type="text" placeholder="Last name" required>
                    <mat-error *ngIf="registerForm.get('lastName')?.errors?.['required']">
                      Last name is required
                      </mat-error>
                    <mat-error *ngIf="registerForm.get('lastName')?.errors?.['minLength']">
                      Last name must contain at least 3 characters.
                      </mat-error>
                    <mat-error *ngIf="registerForm.get('lastName')?.errors?.['maxLength']">
                      Last name must contain at most 20 characters.
                      </mat-error>
                  </mat-form-field>
                </div>
              </div>

              <div class="row">
                <div class="col-md-6">
                  <mat-form-field appearance="outline">
                    <mat-label>Birthday</mat-label>
                    <input matInput formControlName="birthDay" type="date" placeholder="Birthday" id="birthday" required>
                    <mat-error *ngIf="registerForm.get('birthDay')?.errors?.['required']">
                      Birthday is required
                      </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field>
                    <mat-label>Phone</mat-label>
                    <input matInput formControlName="phoneNumber" type="text" placeholder="Phone" required>
                    <mat-error *ngIf="registerForm.get('phoneNumber')?.errors?.['required']">
                      Phone is required
                      </mat-error>
                    <mat-error *ngIf="registerForm.get('phoneNumber')?.errors?.['pattern']">
                      Phone must contain 10 characters.
                      </mat-error>
                  </mat-form-field>
                </div>
              </div>
              <div class="col-md-12">
                <!--<mat-form-field>
                  <mat-label>ID</mat-label>
                  <input matInput formControlName="identification" type="text" placeholder="ID" required>
                  <mat-error *ngIf="registerForm.get('identification')?.errors?.['required']">
                    ID is required
                  </mat-error>
                  <mat-error *ngIf="registerForm.get('identification')?.errors?.['pattern']">
                    ID must contain 9 numbers and 1 letter
                  </mat-error>
                </mat-form-field>-->
              </div>
            </ng-container>
          </ng-template>

          <ng-template #third>
            <ng-container *ngIf="pageF === 3;">
              <div class="row">
                <div class="col-md-6">
                  <mat-form-field appearance="outline">
                    <mat-label>Address</mat-label>
                    <input matInput formControlName="Address" type="text" placeholder="Address" required>
                    <mat-error *ngIf="registerForm.get('Address')?.errors?.['required']">
                      Address is required
                    </mat-error>
                    <mat-error *ngIf="registerForm.get('Address')?.errors?.['minLength']">
                      Address must have at least 3 characters
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field appearance="outline">
                    <mat-label>City</mat-label>
                    <input matInput formControlName="City" type="text" placeholder="City" required>
                    <mat-error *ngIf="registerForm.get('City')?.errors?.['required']">
                      City is required
                    </mat-error>
                    <mat-error *ngIf="registerForm.get('City')?.errors?.['minLength']">
                      City must have at least 3 characters.
                    </mat-error>
                    <mat-error *ngIf="registerForm.get('City')?.errors?.['maxLength']">
                      City must have at least 20 characters.
                    </mat-error>
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <mat-form-field appearance="outline">
                    <mat-label>State</mat-label>
                    <input matInput formControlName="State" type="text" placeholder="State" required>
                    <mat-error *ngIf="registerForm.get('State')?.errors?.['required']">
                      State is required
                    </mat-error>
                    <mat-error *ngIf="registerForm.get('State')?.errors?.['minLength']">
                      State must have at least 3 characters.
                    </mat-error>
                    <mat-error *ngIf="registerForm.get('State')?.errors?.['maxLength']">
                      State must have at least 20 characters.
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-6">
                  <mat-form-field appearance="outline">
                    <mat-label>ZIP</mat-label>
                    <input matInput formControlName="ZipCode" type="text" placeholder="ZIP" required>
                    <mat-error *ngIf="registerForm.get('ZipCode')?.errors?.['required']">
                      ZIP is required
                    </mat-error>
                    <mat-error *ngIf="registerForm.get('ZipCode')?.errors?.['pattern']">
                      ZIP must contain 5 numbers
                    </mat-error>
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-md-12">
                  <mat-form-field appearance="outline">
                    <mat-label>Country</mat-label>
                    <input matInput formControlName="Country" type="text" placeholder="Country" required>
                    <mat-error *ngIf="registerForm.get('Country')?.errors?.['required']">
                      Country is required
                    </mat-error>
                    <mat-error *ngIf="registerForm.get('Country')?.errors?.['minLength']">
                      Country must have at least 3 characters.
                    </mat-error>
                    <mat-error *ngIf="registerForm.get('Country')?.errors?.['maxLength']">
                      Country must have at least 20 characters.
                    </mat-error>
                  </mat-form-field>
                </div>
              </div>
            </ng-container>
          </ng-template>

          <!--<ng-template #fourth>

            <div class="row">
              <div class="col-md-4">
                <h3>Payment</h3>
              </div>
              <div class="col-md-8">
                <mat-form-field appearance="outline">
                  <select matNativeControl formControlName="paymentMethod">
                    <option [selected]="true" [hidden]="true">Select Payment Method</option>
                    <option>Paypal</option>
                    <option>Credit Card</option>
                    <option>Debit Card</option>
                    <option>Net Banking</option>
                  </select>
                </mat-form-field>
              </div>
            </div>


            <div class="row">
              <div class="col-md-6">
                <mat-form-field appearance="outline">
                  <mat-label>Name on card</mat-label>
                  <input matInput formControlName="cardName" type="text" placeholder="Name on card">

                  <mat-error *ngIf="registerForm.get('cardName')?.errors?.['minLength']">
                    Card on name must have at least 3 characters.
                  </mat-error>
                  <mat-error *ngIf="registerForm.get('cardName')?.errors?.['maxLength']">
                    Card on name must have at least 20 characters.
                  </mat-error>
                </mat-form-field>
              </div>
              <div class="col-md-6">
                <mat-form-field appearance="outline">
                  <mat-label>Card number</mat-label>
                  <input matInput formControlName="cardNumber" type="number" placeholder="Number on card">

                  <mat-error *ngIf="registerForm.get('cardNumber')?.errors?.['pattern']">
                    Card number must be 16 numbers long.
                  </mat-error>
                </mat-form-field>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6">
                <mat-form-field appearance="outline">
                  <mat-label>Card expiration</mat-label>
                  <input matInput formControlName="cardExpiration" type="number" placeholder="Card expiration">

                  <mat-error *ngIf="registerForm.get('cardNumber')?.errors?.['pattern']">
                    Card number must be 16 numbers long.
                  </mat-error>
                </mat-form-field>
              </div>
              <div class="col-md-6">
                <mat-form-field appearance="outline">
                  <mat-label>Card CVV</mat-label>
                  <input matInput formControlName="cardCvv" type="number" placeholder="Card CVV">

                  <mat-error *ngIf="registerForm.get('cardCvv')?.errors?.['pattern']">
                    Card number must be 9 numbers long.
                  </mat-error>
                </mat-form-field>
              </div>
            </div>
          </ng-template>-->
        </form>
        <div class="pagination" style="margin-left: 28.5%;">
          <div class="p8">
            <ul>
              <button (click)="ChangePage('prev')" class="flechasB">
                <li class="flechas"><</li>
              </button>
            </ul>
          </div>
          <div class="p4">
            <ul>
              <a id="P1" role="button" (click)="GoToPage(1)" class="is-active">
                <li></li>
              </a>
              <a id="P2" role="button" (click)="GoToPage(2)">
                <li></li>
              </a>
              <a id="P3" role="button" (click)="GoToPage(3)">
                <li></li>
              </a>
              <!--<a id="P4" role="button" (click)="GoToPage(4)">
                <li></li>
              </a>-->
            </ul>
          </div>
          <div class="p8">
            <ul>
              <button (click)="ChangePage('next')" class="flechasB">
                <li class="flechas">></li>
              </button>
            </ul>
          </div>
        </div>


        <div class="row">
          <button (click)="SubmitNewUser()" class="btn btn-proyecto" style="margin-left: auto; margin-right: auto">
            Submit
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
